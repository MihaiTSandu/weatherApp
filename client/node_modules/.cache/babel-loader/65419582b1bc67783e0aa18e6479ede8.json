{"ast":null,"code":"const matchList = document.getElementById(\"match-list\");\nlet search = document.getElementById(\"search\");\nconsole.log(search);\nconsole.log(matchList); // Search cities.json\n\nconst searchCity = async searchText => {\n  const response = await fetch('./cities.json');\n  const cities = await response.json(); // console.log(cities);\n  // Get matches to the text input\n\n  let matches = cities.filter(city => {\n    const regex = new RegExp(`^${searchText}`, 'gi');\n    return city.name.match(regex) || city.abbr.match(regex);\n  });\n\n  if (searchText.length === 0) {\n    matches = [];\n  }\n\n  outputHTML(matches);\n}; // Show suggestions in HTML\n\n\nlet autocomplete = () => {\n  search.addEventListener('input', () => searchCity(search.value));\n\n  const outputHTML = matches => {\n    if (matches.length > 0) {\n      const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n      matchList.innerHTML = html;\n    }\n  };\n};\n\nexport default autocomplete;","map":{"version":3,"sources":["/home/mihai/Documents/weatherApp/src/api/autocomplete.tsx"],"names":["matchList","document","getElementById","search","console","log","searchCity","searchText","response","fetch","cities","json","matches","filter","city","regex","RegExp","name","match","abbr","length","outputHTML","autocomplete","addEventListener","value","html","map","join","innerHTML"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AAEAE,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAC,OAAO,CAACC,GAAR,CAAYL,SAAZ,E,CAEA;;AACA,MAAMM,UAAU,GAAG,MAAMC,UAAN,IAAoB;AACnC,QAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,CAA5B;AACA,QAAMC,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB,CAFmC,CAInC;AACA;;AACA,MAAIC,OAAO,GAAGF,MAAM,CAACG,MAAP,CAAcC,IAAI,IAAI;AAChC,UAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAY,IAAGT,UAAW,EAA1B,EAA6B,IAA7B,CAAd;AACA,WAAOO,IAAI,CAACG,IAAL,CAAUC,KAAV,CAAgBH,KAAhB,KAA0BD,IAAI,CAACK,IAAL,CAAUD,KAAV,CAAgBH,KAAhB,CAAjC;AACH,GAHa,CAAd;;AAKA,MAAIR,UAAU,CAACa,MAAX,KAAsB,CAA1B,EAA6B;AACzBR,IAAAA,OAAO,GAAG,EAAV;AACH;;AAEDS,EAAAA,UAAU,CAACT,OAAD,CAAV;AACH,CAhBD,C,CAkBA;;;AAGA,IAAIU,YAAY,GAAG,MAAM;AAErBnB,EAAAA,MAAM,CAACoB,gBAAP,CAAwB,OAAxB,EAAiC,MAAMjB,UAAU,CAACH,MAAM,CAACqB,KAAR,CAAjD;;AAIA,QAAMH,UAAU,GAAGT,OAAO,IAAI;AAC1B,QAAIA,OAAO,CAACQ,MAAR,GAAiB,CAArB,EAAwB;AACpB,YAAMK,IAAI,GAAGb,OAAO,CAACc,GAAR,CAAYR,KAAK,IAAK;AAC/C;AACA,0BAA0BA,KAAK,CAACD,IAAK;AACrC;AACA,iBAJyB,EAINU,IAJM,CAID,EAJC,CAAb;AAMA3B,MAAAA,SAAS,CAAC4B,SAAV,GAAsBH,IAAtB;AACH;AACJ,GAVD;AAWH,CAjBD;;AAoBA,eAAeH,YAAf","sourcesContent":["const matchList = document.getElementById(\"match-list\");\nlet search = document.getElementById(\"search\") as HTMLInputElement;\n\nconsole.log(search);\nconsole.log(matchList);\n\n// Search cities.json\nconst searchCity = async searchText => {\n    const response = await fetch('./cities.json');\n    const cities = await response.json();\n\n    // console.log(cities);\n    // Get matches to the text input\n    let matches = cities.filter(city => {\n        const regex = new RegExp(`^${searchText}`, 'gi');\n        return city.name.match(regex) || city.abbr.match(regex);\n    });\n\n    if (searchText.length === 0) {\n        matches = [];\n    }\n\n    outputHTML(matches);\n};\n\n// Show suggestions in HTML\n\n\nlet autocomplete = () => {\n\n    search.addEventListener('input', () => searchCity(search.value));\n\n\n\n    const outputHTML = matches => {\n        if (matches.length > 0) {\n            const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n\n            matchList.innerHTML = html;\n        }\n    }\n}\n\n\nexport default autocomplete;"]},"metadata":{},"sourceType":"module"}