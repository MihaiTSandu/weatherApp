{"ast":null,"code":"const matchList = document.getElementById(\"match-list\");\nlet search = document.getElementById(\"search\");\nconsole.log(search);\nconsole.log(matchList);\n\nlet autocomplete = () => {\n  search.addEventListener('input', () => searchCity(search.value)); // Show suggestions in HTML\n\n  const outputHTML = matches => {\n    if (matches.length > 0) {\n      const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n      matchList.innerHTML = html;\n    }\n  }; // Search cities.json\n\n\n  const searchCity = async searchText => {\n    const response = await fetch('./cities.json');\n    const cities = await response.json(); // console.log(cities);\n    // Get matches to the text input\n\n    let matches = cities.filter(city => {\n      const regex = new RegExp(`^${searchText}`, 'gi');\n      return city.name.match(regex) || city.abbr.match(regex);\n    });\n\n    if (searchText.length === 0) {\n      matches = [];\n    }\n\n    outputHTML(matches);\n  };\n};\n\nexport default autocomplete;","map":{"version":3,"sources":["/home/mihai/Documents/weatherApp/src/api/autocomplete.tsx"],"names":["matchList","document","getElementById","search","console","log","autocomplete","addEventListener","searchCity","value","outputHTML","matches","length","html","map","match","name","join","innerHTML","searchText","response","fetch","cities","json","filter","city","regex","RegExp","abbr"],"mappings":"AAAA,MAAMA,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB;AACA,IAAIC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAb;AAEAE,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACAC,OAAO,CAACC,GAAR,CAAYL,SAAZ;;AAMA,IAAIM,YAAY,GAAG,MAAM;AAErBH,EAAAA,MAAM,CAACI,gBAAP,CAAwB,OAAxB,EAAiC,MAAMC,UAAU,CAACL,MAAM,CAACM,KAAR,CAAjD,EAFqB,CAMrB;;AACA,QAAMC,UAAU,GAAGC,OAAO,IAAI;AAC1B,QAAIA,OAAO,CAACC,MAAR,GAAiB,CAArB,EAAwB;AACpB,YAAMC,IAAI,GAAGF,OAAO,CAACG,GAAR,CAAYC,KAAK,IAAK;AAC/C;AACA,0BAA0BA,KAAK,CAACC,IAAK;AACrC;AACA,iBAJyB,EAINC,IAJM,CAID,EAJC,CAAb;AAMAjB,MAAAA,SAAS,CAACkB,SAAV,GAAsBL,IAAtB;AACH;AACJ,GAVD,CAPqB,CAmBrB;;;AACA,QAAML,UAAU,GAAG,MAAMW,UAAN,IAAoB;AACnC,UAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,eAAD,CAA5B;AACA,UAAMC,MAAM,GAAG,MAAMF,QAAQ,CAACG,IAAT,EAArB,CAFmC,CAInC;AACA;;AACA,QAAIZ,OAAO,GAAGW,MAAM,CAACE,MAAP,CAAcC,IAAI,IAAI;AAChC,YAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAY,IAAGR,UAAW,EAA1B,EAA6B,IAA7B,CAAd;AACA,aAAOM,IAAI,CAACT,IAAL,CAAUD,KAAV,CAAgBW,KAAhB,KAA0BD,IAAI,CAACG,IAAL,CAAUb,KAAV,CAAgBW,KAAhB,CAAjC;AACH,KAHa,CAAd;;AAKA,QAAIP,UAAU,CAACP,MAAX,KAAsB,CAA1B,EAA6B;AACzBD,MAAAA,OAAO,GAAG,EAAV;AACH;;AAEDD,IAAAA,UAAU,CAACC,OAAD,CAAV;AACH,GAhBD;AAiBH,CArCD;;AAwCA,eAAeL,YAAf","sourcesContent":["const matchList = document.getElementById(\"match-list\");\nlet search = document.getElementById(\"search\") as HTMLInputElement;\n\nconsole.log(search);\nconsole.log(matchList);\n\n\n\n\n\nlet autocomplete = () => {\n\n    search.addEventListener('input', () => searchCity(search.value));\n\n\n\n    // Show suggestions in HTML\n    const outputHTML = matches => {\n        if (matches.length > 0) {\n            const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n\n            matchList.innerHTML = html;\n        }\n    }\n\n    // Search cities.json\n    const searchCity = async searchText => {\n        const response = await fetch('./cities.json');\n        const cities = await response.json();\n\n        // console.log(cities);\n        // Get matches to the text input\n        let matches = cities.filter(city => {\n            const regex = new RegExp(`^${searchText}`, 'gi');\n            return city.name.match(regex) || city.abbr.match(regex);\n        });\n\n        if (searchText.length === 0) {\n            matches = [];\n        }\n\n        outputHTML(matches);\n    };\n}\n\n\nexport default autocomplete;"]},"metadata":{},"sourceType":"module"}