{"ast":null,"code":"import info from \"./cities.json\";\n\nlet autocomplete = () => {\n  const matchList = document.getElementById(\"match-list\");\n  const search = document.getElementById(\"search\");\n  console.log(info[0]);\n  search.addEventListener('input', () => searchCity(search.value)); // Show suggestions in HTML\n\n  const outputHTML = matches => {\n    if (matches.length > 0) {\n      const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n      matchList.innerHTML = html;\n    }\n  }; // Search cities.json\n\n\n  const searchCity = searchText => {\n    // const response = await fetch('./cities.json');\n    // console.log(response)\n    // const cities = await response.json();\n    // console.log(cities + \" cities\");\n    // Get matches to the text input\n    let matches = cities.filter(city => {\n      const regex = new RegExp(`^${searchText}`, 'gi');\n      return city.name.match(regex) || city.abbr.match(regex);\n    });\n\n    if (searchText.length === 0) {\n      matches = [];\n    }\n\n    outputHTML(matches);\n  };\n};\n\nexport default autocomplete;","map":{"version":3,"sources":["/home/mihai/Documents/weatherApp/src/api/autocomplete.tsx"],"names":["info","autocomplete","matchList","document","getElementById","search","console","log","addEventListener","searchCity","value","outputHTML","matches","length","html","map","match","name","join","innerHTML","searchText","cities","filter","city","regex","RegExp","abbr"],"mappings":"AAAA,OAAOA,IAAP,MAAiB,eAAjB;;AAGA,IAAIC,YAAY,GAAG,MAAM;AACrB,QAAMC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,YAAxB,CAAlB;AACA,QAAMC,MAAM,GAAGF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,CAAf;AACAE,EAAAA,OAAO,CAACC,GAAR,CAAYP,IAAI,CAAC,CAAD,CAAhB;AAEAK,EAAAA,MAAM,CAACG,gBAAP,CAAwB,OAAxB,EAAiC,MAAMC,UAAU,CAACJ,MAAM,CAACK,KAAR,CAAjD,EALqB,CAOrB;;AACA,QAAMC,UAAU,GAAGC,OAAO,IAAI;AAC1B,QAAIA,OAAO,CAACC,MAAR,GAAiB,CAArB,EAAwB;AACpB,YAAMC,IAAI,GAAGF,OAAO,CAACG,GAAR,CAAYC,KAAK,IAAK;AAC/C;AACA,0BAA0BA,KAAK,CAACC,IAAK;AACrC;AACA,iBAJyB,EAINC,IAJM,CAID,EAJC,CAAb;AAMAhB,MAAAA,SAAS,CAACiB,SAAV,GAAsBL,IAAtB;AACH;AACJ,GAVD,CARqB,CAoBrB;;;AACA,QAAML,UAAU,GAAGW,UAAU,IAAI;AAC7B;AACA;AACA;AACA;AAEA;AACA,QAAIR,OAAO,GAAGS,MAAM,CAACC,MAAP,CAAcC,IAAI,IAAI;AAChC,YAAMC,KAAK,GAAG,IAAIC,MAAJ,CAAY,IAAGL,UAAW,EAA1B,EAA6B,IAA7B,CAAd;AACA,aAAOG,IAAI,CAACN,IAAL,CAAUD,KAAV,CAAgBQ,KAAhB,KAA0BD,IAAI,CAACG,IAAL,CAAUV,KAAV,CAAgBQ,KAAhB,CAAjC;AACH,KAHa,CAAd;;AAKA,QAAIJ,UAAU,CAACP,MAAX,KAAsB,CAA1B,EAA6B;AACzBD,MAAAA,OAAO,GAAG,EAAV;AACH;;AAEDD,IAAAA,UAAU,CAACC,OAAD,CAAV;AACH,GAjBD;AAkBH,CAvCD;;AA0CA,eAAeX,YAAf","sourcesContent":["import info from \"./cities.json\";\n\n\nlet autocomplete = () => {\n    const matchList = document.getElementById(\"match-list\");\n    const search = document.getElementById(\"search\") as HTMLInputElement;\n    console.log(info[0]);\n\n    search.addEventListener('input', () => searchCity(search.value));\n\n    // Show suggestions in HTML\n    const outputHTML = matches => {\n        if (matches.length > 0) {\n            const html = matches.map(match => `\n                    <div>\n                    <h4>${match.name}</h4>\n                    </div> \n                `).join('');\n\n            matchList.innerHTML = html;\n        }\n    }\n\n    // Search cities.json\n    const searchCity = searchText => {\n        // const response = await fetch('./cities.json');\n        // console.log(response)\n        // const cities = await response.json();\n        // console.log(cities + \" cities\");\n\n        // Get matches to the text input\n        let matches = cities.filter(city => {\n            const regex = new RegExp(`^${searchText}`, 'gi');\n            return city.name.match(regex) || city.abbr.match(regex);\n        });\n\n        if (searchText.length === 0) {\n            matches = [];\n        }\n\n        outputHTML(matches);\n    };\n}\n\n\nexport default autocomplete;"]},"metadata":{},"sourceType":"module"}